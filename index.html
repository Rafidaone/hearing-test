<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hearing Test</title>

    <style>




body{
    background-color: rgb(202, 204, 218);

}

#start{
position: absolute;
 left: 25%;
top: 25%;
width: 50%;
height: 25%;
font-size: 500%;

}

.game{

    opacity: 0;
display: none;

}

button{

    background-color: rgba(13, 193, 22, 0.2);
    font-size: 17px;
    text-align: center;
    border-width: 4px;
    border-color: rgba(13, 113, 193, 0.08);
    border-radius: 8px;
    font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
    letter-spacing: 2px;
    color: rgb(54, 54, 54);

}

textarea{

background-color: rgb(172, 216, 185);
font-size: 13px;
text-align: center;
border-width: 4px;
border-color: rgba(13, 113, 193, 0.08);
border-radius: 8px;
font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
letter-spacing: 2px;
resize: none;
width: 50%;
color: rgb(54, 54, 54);

display: block;
    margin-left: auto;
    margin-right: auto;

    transition: opacity 0.3s ease-in-out, color 0.4s ease-in-out, font-size 0.3s ease-in-out;


}

h1{
    font-size: 200%;
font-family: Arial, Helvetica, sans-serif;
text-shadow: 0px 2px 6px rgba(37, 93, 249, 0.766);
text-align: center;


}

p{
    text-align: center;
font-size: larger;

transition: opacity 0.3s ease-in-out, color 0.4s ease-in-out, font-size 0.3s ease-in-out;


}


#buttons{
    margin-top: 15px;
    max-width: fit-content;
  margin-left: auto;
  margin-right: auto;
  flex-direction: row;

  transition: opacity 0.3s ease-in-out, color 0.4s ease-in-out, font-size 0.3s ease-in-out;


}


    </style>
</head>
<body>
<h1>Hearing Test</h1>
<button onclick="start();" id="start">Start</button>

<p id="info"  class="game" >enter perceived word, spelling matters!</p>

  <textarea  class="game" id="input" placeholder="word goes here"></textarea>
  <div id="buttons" class="game">
    <button onclick="Speak();">Repeat</button>
  <button onclick="newWord();">Give up</button>
  <button onclick="subBtu();">Submit</button>

</div>


    <script>
        // word list from witch random words are pulled from

    
        
        var words = ["individual", "know", "no", "but", "butt", "cite", "sight", "flower", "flour", "Your", "you're", "buy", "bye", "by", "brake", "break", "tobacco", "train", "crowbar", "orange", "lawnmower", "derogatory", "onomatopoeia", "contract", "table", "door", "trash", "rubbish", "goose", "heard", "herd", "painting", "roller", "tractor", "toaster", "piano", "clock", "tree", "frog", "bucket", "rain", "magma", "leg", "light", "kitchen", "court", "spike", "eye", "i", "brand", "bounds", "gradually", "see", "sea", "son", "sun", "cord"];
        var current = 0; // were currently picked word is stored

        var used = [];// word list of words used so it dosent repeat them





function start(){// start button function, primarly to get user interaction for test to speach to work

    current = pick(); // pick random word to say initialy
say("all right from now on when i tell you to write a word, you will write it... lets begin with " + words[current])
document.getElementById("buttons").classList.remove("game");
document.getElementById("info").classList.remove("game");
document.getElementById("input").classList.remove("game");
document.getElementById("start").classList.add("game");




}



        function subBtu(){// ------------------- function for submit button/enter key
var input = document.getElementById("input").value.toLowerCase().replaceAll(" ", "").replaceAll("\n", ""); // first get valse of textarea, then make it all lower case, then remove any spaces then any enter key lines
console.log(input);
document.getElementById("input").value = ""; // clear text box each submition


   // list of compliments and offenses when you get answer -- have to add the lists with vars in them here so they get updated and not stay static
   var offense = ["no you bumb, what in the world makes you think i said " + input, "not quite, " + input + " more like " + words[current], "NO! not " + input + " its " + words[current], "oh my god, out of all the words you landed on " + input + "seriously?", "yeah of course it is " + input + ". in your dreams", "damn " + input + " is a foolish way to spell " + words[current], "nah uh", "ah yes. " + input + " my favorite way to spell " + words[current]]




if (input == words[current]){ // if you get correct answer
    current = pick();

    var complements = ["ok okay now write " + words[current], "good job how about now you'll write " + words[current] + " for me", "thats some quality work, say it be amazing if you could write " + words[current], "you know the drill " + words[current] + " is the word", words[current] + "now", "alright write " + words[current] + " immediately", "awesome work... " + words[current] + " is the new word", "hey do you mind spelling " + words[current] + " for me please", "nice job bud, next assignment is. " + words[current]]

 say(complements[ Math.floor(Math.random() *  complements.length)] ); // says random index for compliment 

} else{
    say(offense[ Math.floor(Math.random() *  offense.length)]) // same story for offences


}
}

document.addEventListener('keydown', function(event) {// event handler so when you press enter it submits
  if (event.keyCode === 13 || event.which === 13) {
    subBtu();
  }
});


function newWord(){ // give up button
current = pick();
say("the new word is " + words[current]);
}


function Speak(){ // repeat button
if (used.length == 0){// cheaks if used is empty witch means its the first word and needs to be randomized
current = pick();
say("may you kind individual write " + words[current]);

} else{

    say("did i stutter? i said " + words[current]);

}

}


        function pick() {
    var out = Math.floor(Math.random() *  words.length); // pick random number from list index
if (words.length == used.length){ // what to do when out of new words
used = [];
return pick();
}
 for (var i = 0; i < words.length; i++) { // make sure its not used
   if(out == used[i] ){// what to do if a word was used
     return pick();
     console.log("old word")

   } else{ // what to do if not used
      used.push(out);
      console.log("new word" + words[out]);
      return out;


   }
 }
  }
  
        
        function say (word){ // function to quickly say something
            speechSynthesis.cancel();
            speechSynthesis.speak(new SpeechSynthesisUtterance(word));
       
        }





    </script>
</body>
</html>
